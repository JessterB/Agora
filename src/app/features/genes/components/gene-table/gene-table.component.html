<div [ngClass]="['gene-table', className]">
  <p-table
    #table
    [value]="_genes"
    [columns]="selectedColumns"
    [paginator]="false"
    [responsive]="false"
    [scrollable]="true"
    scrollDirection="both"
    [customSort]="true"
    (sortFunction)="customSort($event)"
    [exportFilename]="exportFilename"
    [ngClass]="getFullscreenClass()"
    [sortField]="sortField"
  >
    <ng-template pTemplate="caption">
      <div>{{ heading }}</div>
      <div class="gene-table-header-icons">
        <div>
          <i [ngClass]="getWindowClass()" (click)="toggleFullscreen()"></i>
        </div>
        <div>
          <i
            class="pi pi-download table-icon absolute-icon"
            (click)="table.exportCSV()"
          ></i>
        </div>
        <div>
          <p-multiSelect
            [options]="optionalColumns"
            [(ngModel)]="selectedColumns"
            [showHeader]="false"
            optionLabel="header"
            dropdownIcon="pi pi-filter"
          ></p-multiSelect>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th
          *ngFor="let column of columns; let i = index"
          [style]="{ width: column.width + 'px' }"
          [ngSwitch]="column.field"
        >
          <div class="tr">
            <div [pSortableColumn]="column.field" class="th">
              {{ column.header }}
              <p-sortIcon [field]="column.field"></p-sortIcon>
            </div>
          </div>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item let-columns="columns">
      <tr (click)="navigateToGene(item)">
        <td
          *ngFor="let column of columns"
          [style]="{ width: column.width + 'px' }"
        >
          {{ item[column.field] }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
