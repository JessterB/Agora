<div class="section-thin rna-seq-me" *ngIf="dataLoaded" tabindex="0">
<h2 class="filters-header">
        Overall Expression of Selected Gene Across Tissues
        <span class="icon-spacing"></span>
        <i class="fa fa-info-circle" (click)="showDialog('displayBRDia2')"></i>
    </h2>
    <p class="black-paragraph">
        This plot depicts the median expression of the selected gene across tissues (brain regions)
        in the dataset, as measured by RNA-seq read counts per million (CPM) reads. Meaningful
        expression is considered to be anything greater than five CPM (referenced by red line in the plot).
    </p>
    <median-chart [geneinfo]="geneInfo"></median-chart>
</div>

<div class="section-thin rna-seq-bplot" *ngIf="dataLoaded" tabindex="0">
    <div class="row">
        <div class="col-md-8 col-sm-12 col-12">
            <h2 class="de-header">
                Differential Expression of Selected Gene within Selected Tissue
            </h2>
            <p class="black-paragraph de-paragraph">
                After selecting a tissue and statistical model, you will be able to see whether the
                selected gene is differentially expressed between AD cases and controls The box
                plot depicts how the differential expression of the selected gene of interest
                (red dot) compares with expression of other genes in the tissue. Summary statistics
                can be viewed by hovering over the red dot.
            </p>
            <h2 class="filters-header">
                Filter by Tissue and Model
                <span class="icon-spacing"></span>
                <i class="fa fa-info-circle" (click)="showDialog('displayBPDia')"></i>
            </h2>
            <div class="row multi-sel-row">
                <div class="col-md-10 col-sm-12 col-12">
                    <p-multiSelect *ngIf="!isEmptyGene"
                        [options]="tissues"
                        [(ngModel)]="selectedTissues"
                        [showToggleAll]="false"
                        [showHeader]="false"
                        [panelStyle]="{minWidth:'12em'}"
                        [defaultLabel]="getDefaultLabel()"
                        [dropdownIcon]="getDropdownIcon()"
                        (onPanelShow)="openDropdown()"
                        (onPanelHide)="closeDropdown()"
                        (onChange)="toggleTissue($event)">
                    </p-multiSelect>
                    <span *ngIf="isEmptyGene">Not enough data</span>
                </div>
            </div>
            <div class="row sm-row">
                <div class="col-md-10 col-sm-12 col-12">
                    <select-menu  *ngIf="!isEmptyGene"
                        [promptText]="'All'"
                        [label]="'select-model'"
                        [defaultValue]="getModel(1)">
                    </select-menu>
                    <span *ngIf="isEmptyGene">Not enough data</span>
                </div>
            </div>
        </div>
        <div *ngIf="!isEmptyGene" class="col-md-4 col-sm-12 col-12 bplot-col">
            <!-- BoxPlots component-->
            <ng-template *ngFor="let tissue of tissues; let i = index" #t>
            </ng-template>
        </div>
        <div *ngIf="isEmptyGene" class="col-md-4 col-sm-12 col-12 empty-bplot-col">
            <h2 class="placeholder-text">Not enough data to render chart</h2>
        </div>
    </div>
</div>

<div class="section-thin rna-seq-fplot" *ngIf="dataLoaded" tabindex="0">
    <h2>
        Consistency of Change in Expression
    </h2>
    <p class="black-paragraph">
        This forest plot indicates the estimate of the log fold change with standard errors across the
        tissues in the chosen model. Genes that show consistent patterns of differential expression will
        have similar log-fold change value across tissues.
    </p>
    <row-chart *ngIf="!isEmptyGene"></row-chart>
    <div *ngIf="isEmptyGene" class="row rc-empty-plot-content">
        <h2 class="placeholder-text">Not enough data to render chart</h2>
    </div>
</div>

<div class="ui-rtl" dir="rtl">
    <p-dialog header="" [(visible)]="displayBPDia" [modal]="true"
        [responsive]="true" [minWidth]="330" [minY]="256" [baseZIndex]="10000" [dismissableMask]="true"
        [styleClass]="'btm-dialog'">
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    Brain Tissues
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    DLPFC:
                </span>
                <span dir="ltr">
                    Dorsolateral Prefrontal Cortex
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    TCX:
                </span>
                <span dir="ltr">
                    Temporal Cortex
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    CBE:
                </span>
                <span dir="ltr">
                    Cerebellum
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    PHG:
                </span>
                <span dir="ltr">
                    Parahippocampal Gyrus
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    STG:
                </span>
                <span dir="ltr">
                    Superior Temporal Gyrus
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    FP:
                </span>
                <span dir="ltr">
                    Frontal Pole
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    IFG:
                </span>
                <span dir="ltr">
                    Inferior Frontal Gyrus
                </span>
            </div>
        </div>
        <div class="row content-row content-vspace" dir="ltr">
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    Models
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    AD Diagnosis (males and females):
                </span>
                <span dir="ltr">
                    This is the base model which compares gene expression in AD patients with controls.
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    AD Diagnosis x AOD (males and females):
                </span>
                <span dir="ltr">
                    This model evaluates the difference between female AD patients and female controls.
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    AD Diagnosis x Sex (females only):
                </span>
                <span dir="ltr">
                    This model evaluates the difference between male AD patients and male controls.
                </span>
            </div>
        </div>
        <div class="row content-row" dir="ltr">
            <div class="col-md-12 col-sm-12 col-12">
                <span class="header-span" dir="ltr">
                    AD Diagnosis x Sex (males only):
                </span>
                <span dir="ltr">
                    This model compares gene expression in AD patients and controls, and whether that association is influenced by Age of Death (AOD).
                </span>
            </div>
        </div>
    </p-dialog>
<p-dialog header="" [(visible)]="displayBRDia2" [modal]="true" [responsive]="true" [minWidth]="330" [minY]="256" [baseZIndex]="10000"
    [dismissableMask]="true" [styleClass]="'btm-dialog'">

    <div class="row content-row" dir="ltr">
        <div class="col-md-12 col-sm-12 col-12">
        <span class="header-span" dir="ltr">
            Brain Tissues: <br>
        </span>
        <span dir="ltr">
            DLPFC: Dorsolateral Prefrontal Cortex <br>
            TCX: Temporal Cortex <br>
            CBE: Cerebellum <br>
            PHG: Parahippocampal Gyrus <br>
            STG:Superior Temporal Gyrus <br>
            FP: Frontal Pole <br>
            IFG: Inferior Frontal Gyrus <br>
        </span>
        </div>
    </div>
    </p-dialog>
</div>
