<div class="container">
    <div class="row">
        <h1>Nominated Target List</h1>
    </div>
    <div class="row">
        Please click a gene from the list to view details and evidence. The table can be filtered
        to find a gene of interest by name by typing a gene symbol (e.g., 'VGF') in the search
        box on the right.
    </div>
    <div class="row">
        <p-table #gl
            [columns]="cols" [value]="genes" selectionMode="single"
            [(selection)]="selectedGene" dataKey="ensembl_gene_id"
            [paginator]="true"
            [rows]="10"
            [lazy]="true"
            [totalRecords]="totalRecords"
            [loading]="loading"
            (sortFunction)="customSort($event)"
            (onRowSelect)="onRowSelect($event)"
            (onRowUnselect)="onRowUnselect($event)"
            (onLazyLoad)="loadGenesLazy($event)">
            <ng-template pTemplate="caption">
                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                <input type="text" pInputText size="50" placeholder="Gene Filter"
                    (input)="gl.filterGlobal($event.target.value, 'contains')" style="width:auto">
            </ng-template>
            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th *ngFor="let col of cols; let i = index;"
                        [ngStyle]="{'text-align': getAlignment(i, cols.length-1)}"
                        [pSortableColumn]="col.field">
                        {{col.header}}
                        <p-sortIcon [field]="col.field"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns">
                <tr [pSelectableRow]="rowData">
                    <td *ngFor="let col of columns; let i = index;" [ngStyle]="{'text-align': getAlignment(i, cols.length-1)}">
                        {{isNaN(rowData[col.field]) ? rowData[col.field] : (rowData[col.field] | number:'1.2-5')}}
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
